#!/bin/bash

# Navigate to the root directory
cd "$(git rev-parse --show-toplevel)" || exit 1

# Run tests
echo "Running tests..."
if ! npm run test; then
    echo "Tests failed. Push aborted."
    exit 1
fi

# Check code formatting
echo "Checking code format..."
if ! npm run check-format; then
    echo "Code format check failed. Push aborted."
    exit 1
fi

echo "All checks passed. Proceeding with push."
exit 0
